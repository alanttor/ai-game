<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML ‰∫íÂä®È°πÁõÆÂ±ïÁ§∫</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            font-family: 'Segoe UI', Arial, sans-serif;
            color: #fff;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 50px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf, #ff006e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #8892b0;
            font-size: 1.1em;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
        }

        .project-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--card-color, #00d4ff), transparent);
        }

        .project-card:hover {
            transform: translateY(-8px);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--card-color, #00d4ff);
        }

        .project-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .project-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #fff;
        }

        .project-desc {
            color: #8892b0;
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            background: rgba(0, 212, 255, 0.15);
            color: #00d4ff;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
        }

        /* Ê∑ªÂä†È°πÁõÆÂç°Áâá */
        .add-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .add-card:hover {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.05);
        }

        .add-card .icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .add-card .text {
            color: #8892b0;
            font-size: 1em;
        }

        /* Ê®°ÊÄÅÊ°Ü */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: #1a1a2e;
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 16px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            color: #00d4ff;
            font-size: 1.3em;
        }

        .close-btn {
            background: none;
            border: none;
            color: #8892b0;
            font-size: 1.5em;
            cursor: pointer;
        }

        .close-btn:hover {
            color: #fff;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #8892b0;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #fff;
            font-size: 1em;
            font-family: inherit;
        }

        .form-group textarea {
            min-height: 200px;
            font-family: 'Consolas', monospace;
            font-size: 0.9em;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #00d4ff;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00d4ff, #7b2cbf);
            color: #fff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #8892b0;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type="file"] {
            display: none;
        }

        .file-input-label {
            display: block;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            color: #8892b0;
            transition: all 0.3s;
        }

        .file-input-label:hover {
            border-color: #00d4ff;
            color: #00d4ff;
        }

        .user-projects-title {
            color: #ffd700;
            font-size: 0.9em;
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 0, 0, 0.2);
            border: none;
            color: #ff6b6b;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s;
        }

        .project-card:hover .delete-btn {
            opacity: 1;
        }

        .delete-btn:hover {
            background: rgba(255, 0, 0, 0.4);
        }

        /* Ëá™ÂÆö‰πâÂØπËØùÊ°Ü */
        .dialog-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .dialog-overlay.show {
            display: flex;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .dialog-box {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 16px;
            padding: 30px;
            max-width: 420px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(0, 212, 255, 0.1);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .dialog-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .dialog-title {
            font-size: 1.3em;
            color: #fff;
            margin-bottom: 10px;
        }

        .dialog-message {
            color: #8892b0;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .dialog-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .dialog-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s;
        }

        .dialog-btn-confirm {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            color: #fff;
        }

        .dialog-btn-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        }

        .dialog-btn-cancel {
            background: rgba(255, 255, 255, 0.1);
            color: #8892b0;
        }

        .dialog-btn-cancel:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        .dialog-btn-ok {
            background: linear-gradient(135deg, #00d4ff, #7b2cbf);
            color: #fff;
            min-width: 120px;
        }

        .dialog-btn-ok:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.4);
        }

        /* Toast ÊèêÁ§∫ */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 12px;
            padding: 15px 30px;
            color: #fff;
            font-size: 1em;
            z-index: 3000;
            opacity: 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-color: rgba(56, 239, 125, 0.5);
        }

        .toast.error {
            border-color: rgba(255, 107, 107, 0.5);
        }

        .toast.warning {
            border-color: rgba(255, 215, 0, 0.5);
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #8892b0;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8em; }
            .projects-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® HTML ‰∫íÂä®È°πÁõÆÂ±ïÁ§∫</h1>
            <p class="subtitle">ÁÇπÂáªÂç°ÁâáËøõÂÖ•ÂØπÂ∫îÈ°πÁõÆ | Á∫ØÂâçÁ´ØÂÆûÁé∞ÔºåÊó†ÈúÄÊúçÂä°Âô®</p>
        </header>
        <div class="projects-grid" id="projectsGrid"></div>
        <footer>
            <p>üí° ÁÇπÂáª"Ê∑ªÂä†È°πÁõÆ"Âç°ÁâáÂèØÂØºÂÖ•Ëá™ÂÆö‰πâHTMLÈ°πÁõÆ</p>
        </footer>
    </div>

    <!-- Ê∑ªÂä†È°πÁõÆÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ûï Ê∑ªÂä†Êñ∞È°πÁõÆ</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="form-group">
                <label>È°πÁõÆÂêçÁß∞</label>
                <input type="text" id="projectTitle" placeholder="‰æãÂ¶ÇÔºöÊàëÁöÑÂä®ÁîªÈ°πÁõÆ">
            </div>
            <div class="form-group">
                <label>È°πÁõÆÁÆÄ‰ªã</label>
                <input type="text" id="projectDesc" placeholder="‰∏ÄÂè•ËØùÊèèËø∞Ëøô‰∏™È°πÁõÆ">
            </div>
            <div class="form-group">
                <label>È°πÁõÆÂõæÊ†á (Emoji)</label>
                <input type="text" id="projectIcon" placeholder="‰æãÂ¶ÇÔºöüéÆ" maxlength="2">
            </div>
            <div class="form-group">
                <label>ÂØºÂÖ•HTMLÊñá‰ª∂</label>
                <div class="file-input-wrapper">
                    <input type="file" id="htmlFile" accept=".html,.htm">
                    <label class="file-input-label" for="htmlFile">üìÅ ÁÇπÂáªÈÄâÊã©HTMLÊñá‰ª∂ÊàñÊãñÊãΩÂà∞Ê≠§Â§Ñ</label>
                </div>
            </div>
            <div class="form-group">
                <label>ÊàñÁõ¥Êé•Á≤òË¥¥HTML‰ª£Á†Å</label>
                <textarea id="htmlCode" placeholder="&lt;!DOCTYPE html&gt;&#10;&lt;html&gt;&#10;..."></textarea>
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="cancelBtn">ÂèñÊ∂à</button>
                <button class="btn btn-primary" id="saveBtn">‰øùÂ≠òÈ°πÁõÆ</button>
            </div>
        </div>
    </div>

    <!-- Ëá™ÂÆö‰πâÁ°ÆËÆ§ÂØπËØùÊ°Ü -->
    <div class="dialog-overlay" id="confirmDialog">
        <div class="dialog-box">
            <div class="dialog-icon" id="dialogIcon">‚ö†Ô∏è</div>
            <div class="dialog-title" id="dialogTitle">Á°ÆËÆ§Êìç‰Ωú</div>
            <div class="dialog-message" id="dialogMessage">Á°ÆÂÆöË¶ÅÊâßË°åÊ≠§Êìç‰ΩúÂêóÔºü</div>
            <div class="dialog-buttons">
                <button class="dialog-btn dialog-btn-cancel" id="dialogCancel">ÂèñÊ∂à</button>
                <button class="dialog-btn dialog-btn-confirm" id="dialogConfirm">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>

    <!-- Ëá™ÂÆö‰πâÊèêÁ§∫ÂØπËØùÊ°Ü -->
    <div class="dialog-overlay" id="alertDialog">
        <div class="dialog-box">
            <div class="dialog-icon" id="alertIcon">‚úÖ</div>
            <div class="dialog-title" id="alertTitle">ÊèêÁ§∫</div>
            <div class="dialog-message" id="alertMessage">Êìç‰ΩúÊàêÂäüÔºÅ</div>
            <div class="dialog-buttons">
                <button class="dialog-btn dialog-btn-ok" id="alertOk">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>

    <!-- Toast ÊèêÁ§∫ -->
    <div class="toast" id="toast">
        <span id="toastIcon">‚úÖ</span>
        <span id="toastMessage">Êìç‰ΩúÊàêÂäü</span>
    </div>

    <script>
        // ========== Ëá™ÂÆö‰πâÂØπËØùÊ°ÜÁ≥ªÁªü ==========
        const Dialog = {
            // Á°ÆËÆ§ÂØπËØùÊ°Ü
            confirm(options) {
                return new Promise((resolve) => {
                    const overlay = document.getElementById('confirmDialog');
                    document.getElementById('dialogIcon').textContent = options.icon || '‚ö†Ô∏è';
                    document.getElementById('dialogTitle').textContent = options.title || 'Á°ÆËÆ§Êìç‰Ωú';
                    document.getElementById('dialogMessage').textContent = options.message || 'Á°ÆÂÆöË¶ÅÊâßË°åÊ≠§Êìç‰ΩúÂêóÔºü';
                    
                    const confirmBtn = document.getElementById('dialogConfirm');
                    const cancelBtn = document.getElementById('dialogCancel');
                    
                    confirmBtn.textContent = options.confirmText || 'Á°ÆÂÆö';
                    cancelBtn.textContent = options.cancelText || 'ÂèñÊ∂à';
                    
                    overlay.classList.add('show');
                    
                    const handleConfirm = () => {
                        overlay.classList.remove('show');
                        cleanup();
                        resolve(true);
                    };
                    
                    const handleCancel = () => {
                        overlay.classList.remove('show');
                        cleanup();
                        resolve(false);
                    };
                    
                    const handleOverlay = (e) => {
                        if (e.target === overlay) handleCancel();
                    };
                    
                    const cleanup = () => {
                        confirmBtn.removeEventListener('click', handleConfirm);
                        cancelBtn.removeEventListener('click', handleCancel);
                        overlay.removeEventListener('click', handleOverlay);
                    };
                    
                    confirmBtn.addEventListener('click', handleConfirm);
                    cancelBtn.addEventListener('click', handleCancel);
                    overlay.addEventListener('click', handleOverlay);
                });
            },
            
            // ÊèêÁ§∫ÂØπËØùÊ°Ü
            alert(options) {
                return new Promise((resolve) => {
                    const overlay = document.getElementById('alertDialog');
                    document.getElementById('alertIcon').textContent = options.icon || '‚úÖ';
                    document.getElementById('alertTitle').textContent = options.title || 'ÊèêÁ§∫';
                    document.getElementById('alertMessage').textContent = options.message || 'Êìç‰ΩúÂÆåÊàê';
                    
                    overlay.classList.add('show');
                    
                    const okBtn = document.getElementById('alertOk');
                    
                    const handleOk = () => {
                        overlay.classList.remove('show');
                        okBtn.removeEventListener('click', handleOk);
                        overlay.removeEventListener('click', handleOverlay);
                        resolve();
                    };
                    
                    const handleOverlay = (e) => {
                        if (e.target === overlay) handleOk();
                    };
                    
                    okBtn.addEventListener('click', handleOk);
                    overlay.addEventListener('click', handleOverlay);
                });
            },
            
            // Toast ÊèêÁ§∫
            toast(message, type = 'success', duration = 3000) {
                const toast = document.getElementById('toast');
                const icon = document.getElementById('toastIcon');
                const msg = document.getElementById('toastMessage');
                
                const icons = {
                    success: '‚úÖ',
                    error: '‚ùå',
                    warning: '‚ö†Ô∏è',
                    info: '‚ÑπÔ∏è'
                };
                
                icon.textContent = icons[type] || icons.success;
                msg.textContent = message;
                
                toast.className = 'toast ' + type;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, duration);
            }
        };

        // ========== ÂÜÖÁΩÆÈ°πÁõÆÈÖçÁΩÆ ==========
        const builtInProjects = [
            {
                title: 'ÂÖ≠ËæπÂΩ¢ÂºπË∑≥Â∞èÁêÉ',
                file: 'hexagon-bouncing-ball.html',
                icon: '‚¨°',
                color: '#00d4ff',
                desc: 'Â∞èÁêÉÂú®ÊóãËΩ¨ÁöÑÂÖ≠ËæπÂΩ¢ËæπÁïåÂÜÖÂºπË∑≥ÔºåÂèØË∞ÉËäÇÈáçÂäõ„ÄÅÂºπÊÄß„ÄÅÊóãËΩ¨ÈÄüÂ∫¶Á≠âÂèÇÊï∞',
                tags: ['Áâ©ÁêÜÊ®°Êãü', 'Canvas', '‰∫§‰∫í']
            },
            {
                title: 'Á†ñÂùóÁÉüÂõ±ÁàÜÁ†¥',
                file: 'chimney-demolition.html',
                icon: 'üí•',
                color: '#ff6b6b',
                desc: '3DÁ†ñÂùóÁÉüÂõ±ÁàÜÁ†¥Ê®°ÊãüÔºåÊîØÊåÅËßÜËßíÊóãËΩ¨„ÄÅÁâ©ÁêÜÁ¢∞ÊíûÂíåÈáçÂäõÊïàÊûú',
                tags: ['3DÊ∏≤Êüì', 'Áâ©ÁêÜÂºïÊìé', 'ÁàÜÁ†¥']
            },
            {
                title: 'Â§™Èò≥Á≥ªÊ®°ÊãüÂô®',
                file: 'solar-system.html',
                icon: 'üåç',
                color: '#ffd700',
                desc: 'ÂÖ´Â§ßË°åÊòüÂõ¥ÁªïÂ§™Èò≥ÂÖ¨ËΩ¨ÔºåÊåâÁúüÂÆûÊØî‰æãÈÄüÂ∫¶ËøêË°åÔºåÂèØË∞ÉËäÇÊó∂Èó¥ÂÄçÈÄü',
                tags: ['Â§©Êñá', 'Âä®Áîª', 'ÊïôËÇ≤']
            },
            {
                title: 'Á≤íÂ≠êÊº©Ê∂°',
                file: 'particle-vortex.html',
                icon: 'üåÄ',
                color: '#ff00ff',
                desc: 'ÁÇπÂáªÂàõÂª∫ÈªëÊ¥ûÂê∏ÂºïÁ≤íÂ≠êÔºåÊùæÂºÄÂêéÁ≤íÂ≠êÂõõÊï£ÔºåÂ∏¶ÊúâÁªö‰∏ΩÊãñÂ∞æÊïàÊûú',
                tags: ['Á≤íÂ≠êÁ≥ªÁªü', '‰∫§‰∫í', 'ËßÜËßâ']
            },
            {
                title: '‰ºÅ‰∏öÂÆòÁΩëÊ®°Êùø',
                file: 'corporate-website.html',
                icon: 'üè¢',
                color: '#2563eb',
                desc: 'ÂìçÂ∫îÂºè‰ºÅ‰∏öÂÆòÁΩëÈ¶ñÈ°µÔºåÂåÖÂê´ÂØºËà™„ÄÅËΩÆÊí≠Âõæ„ÄÅÊúçÂä°Â±ïÁ§∫„ÄÅÂÆ¢Êà∑ËØÑ‰ª∑Á≠âÊ®°Âùó',
                tags: ['ÂìçÂ∫îÂºè', 'ÁΩëÁ´ôÊ®°Êùø', 'UI']
            },
            {
                title: 'Âä®ÁîªÂ§©Ê∞îÂç°Áâá',
                file: 'weather-cards.html',
                icon: 'üå§Ô∏è',
                color: '#38ef7d',
                desc: 'ÂõõÁßçÂ§©Ê∞îÂä®ÁîªÂç°ÁâáÔºöÊô¥Â§©„ÄÅÈõ®Â§©„ÄÅÈõ™Â§©„ÄÅÂ§ßÈ£éÔºåÊîØÊåÅÁ≠õÈÄâÂàáÊç¢',
                tags: ['CSSÂä®Áîª', 'Âç°Áâá', 'Â§©Ê∞î']
            },
            {
                title: 'ÊâìÂ≠óÁªÉ‰π†Ê∏∏Êàè',
                file: 'typing-game.html',
                icon: '‚å®Ô∏è',
                color: '#667eea',
                desc: 'Ëã±ÊñáÊâìÂ≠óÁªÉ‰π†ÔºåÂÆûÊó∂ÊòæÁ§∫WPM„ÄÅÂáÜÁ°ÆÁéáÔºåÂ∏¶ËôöÊãüÈîÆÁõòÂèçÈ¶à',
                tags: ['Ê∏∏Êàè', 'ÈîÆÁõò', 'ÁªÉ‰π†']
            },
            {
                title: 'ÈáèÂ≠êÊ≥¢ÂáΩÊï∞Ê®°ÊãüÂô®',
                file: 'quantum-simulator.html',
                icon: '‚öõÔ∏è',
                color: '#00ffff',
                desc: 'ÈáèÂ≠êÂäõÂ≠¶ÂäøÈò±‰∏≠ÁöÑÊ≥¢ÂáΩÊï∞ÂèØËßÜÂåñÔºåÂèØË∞ÉËäÇÈáèÂ≠êÊï∞„ÄÅÂäøÈò±ÂèÇÊï∞Á≠â',
                tags: ['ÈáèÂ≠êÁâ©ÁêÜ', 'ÁßëÂ≠¶', 'Ê®°Êãü']
            }
        ];

        // ========== GitHub ÈÖçÁΩÆ ==========
        // Token Âú®ÊûÑÂª∫Êó∂ÈÄöËøá GitHub Actions Ëá™Âä®Ê≥®ÂÖ•
        const GITHUB_CONFIG = {
            owner: 'alanttor-jenasi',
            repo: 'ai-game',
            path: 'programmin- prompt-word-demo/data/projects.json',
            // %%GITHUB_TOKEN%% ‰ºöÂú®ÈÉ®ÁΩ≤Êó∂Ë¢´ÊõøÊç¢‰∏∫ÁúüÂÆû Token
            token: '%%GITHUB_TOKEN%%'
        };

        // ÊòØÂê¶‰ΩøÁî® GitHub Â≠òÂÇ®
        const USE_GITHUB_STORAGE = GITHUB_CONFIG.token !== '' && !GITHUB_CONFIG.token.includes('%%');

        // ========== Â≠òÂÇ®Â±ÇÊäΩË±° ==========
        const Storage = {
            fileSha: null,

            async getProjects() {
                if (!USE_GITHUB_STORAGE) {
                    const data = localStorage.getItem('userProjects');
                    return data ? JSON.parse(data) : [];
                }

                try {
                    const res = await fetch(
                        `https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/contents/${GITHUB_CONFIG.path}`,
                        {
                            headers: {
                                'Authorization': `token ${GITHUB_CONFIG.token}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        }
                    );
                    
                    if (!res.ok) {
                        if (res.status === 404) return [];
                        throw new Error('Ëé∑ÂèñÊï∞ÊçÆÂ§±Ë¥•');
                    }
                    
                    const data = await res.json();
                    this.fileSha = data.sha;
                    const content = decodeURIComponent(escape(atob(data.content)));
                    return JSON.parse(content);
                } catch (error) {
                    console.error('GitHub ËØªÂèñÂ§±Ë¥•:', error);
                    Dialog.toast('‰∫ëÁ´ØËØªÂèñÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Êï∞ÊçÆ', 'warning');
                    const data = localStorage.getItem('userProjects');
                    return data ? JSON.parse(data) : [];
                }
            },

            async saveProjects(projects) {
                // ÂßãÁªà‰øùÂ≠òÂà∞Êú¨Âú∞‰Ωú‰∏∫Â§á‰ªΩ
                localStorage.setItem('userProjects', JSON.stringify(projects));

                if (!USE_GITHUB_STORAGE) return true;

                try {
                    const content = btoa(unescape(encodeURIComponent(JSON.stringify(projects, null, 2))));
                    
                    const body = {
                        message: `Êõ¥Êñ∞È°πÁõÆÊï∞ÊçÆ - ${new Date().toLocaleString('zh-CN')}`,
                        content: content,
                        branch: 'main'
                    };
                    
                    if (this.fileSha) {
                        body.sha = this.fileSha;
                    }

                    const res = await fetch(
                        `https://api.github.com/repos/${GITHUB_CONFIG.owner}/${GITHUB_CONFIG.repo}/contents/${GITHUB_CONFIG.path}`,
                        {
                            method: 'PUT',
                            headers: {
                                'Authorization': `token ${GITHUB_CONFIG.token}`,
                                'Accept': 'application/vnd.github.v3+json',
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(body)
                        }
                    );

                    if (!res.ok) throw new Error('‰øùÂ≠òÂ§±Ë¥•');
                    
                    const data = await res.json();
                    this.fileSha = data.content.sha;
                    return true;
                } catch (error) {
                    console.error('GitHub ‰øùÂ≠òÂ§±Ë¥•:', error);
                    Dialog.toast('‰∫ëÁ´Ø‰øùÂ≠òÂ§±Ë¥•ÔºåÂ∑≤‰øùÂ≠òÂà∞Êú¨Âú∞', 'warning');
                    return false;
                }
            }
        };

        // ========== Áî®Êà∑È°πÁõÆÁÆ°ÁêÜ ==========
        let userProjectsCache = [];

        async function loadUserProjects() {
            userProjectsCache = await Storage.getProjects();
            return userProjectsCache;
        }

        function getUserProjects() {
            return userProjectsCache;
        }

        async function saveUserProjects(projects) {
            userProjectsCache = projects;
            await Storage.saveProjects(projects);
        }

        async function addUserProject(project) {
            const projects = getUserProjects();
            project.id = Date.now();
            project.createdAt = new Date().toISOString();
            projects.push(project);
            await saveUserProjects(projects);
            renderProjects();
        }

        async function deleteUserProject(id) {
            const projects = getUserProjects().filter(p => p.id !== id);
            await saveUserProjects(projects);
            localStorage.removeItem(`project_html_${id}`);
            renderProjects();
        }

        // ========== Ê∏≤ÊüìÈ°πÁõÆ ==========
        async function renderProjects() {
            const grid = document.getElementById('projectsGrid');
            grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:40px;color:#8892b0;">Âä†ËΩΩ‰∏≠...</div>';

            // È¶ñÊ¨°Âä†ËΩΩÊó∂‰ªéÂ≠òÂÇ®Ëé∑Âèñ
            if (userProjectsCache.length === 0) {
                await loadUserProjects();
            }

            grid.innerHTML = '';

            // Ê∏≤ÊüìÂÜÖÁΩÆÈ°πÁõÆ
            builtInProjects.forEach(project => {
                const card = createProjectCard(project, false);
                grid.appendChild(card);
            });

            // Ê∏≤ÊüìÁî®Êà∑È°πÁõÆ
            const userProjects = getUserProjects();
            if (userProjects.length > 0) {
                const divider = document.createElement('div');
                divider.className = 'user-projects-title';
                divider.style.gridColumn = '1 / -1';
                divider.textContent = `üì¶ Á§æÂå∫È°πÁõÆ (${userProjects.length})`;
                grid.appendChild(divider);

                userProjects.forEach(project => {
                    const card = createProjectCard(project, true);
                    grid.appendChild(card);
                });
            }

            // Ê∑ªÂä†"Ê∑ªÂä†È°πÁõÆ"Âç°Áâá
            const addCard = document.createElement('div');
            addCard.className = 'add-card';
            addCard.innerHTML = `
                <div class="icon">‚ûï</div>
                <div class="text">Ê∑ªÂä†Êñ∞È°πÁõÆ</div>
            `;
            addCard.addEventListener('click', () => {
                document.getElementById('addModal').classList.add('show');
            });
            grid.appendChild(addCard);
        }

        function createProjectCard(project, isUserProject) {
            const card = document.createElement('div');
            card.className = 'project-card';
            card.style.setProperty('--card-color', project.color || '#00d4ff');
            
            let deleteBtn = '';
            if (isUserProject) {
                deleteBtn = `<button class="delete-btn" data-id="${project.id}">√ó</button>`;
            }

            card.innerHTML = `
                ${deleteBtn}
                <div class="project-icon">${project.icon}</div>
                <div class="project-title">${project.title}</div>
                <div class="project-desc">${project.desc}</div>
                <div class="project-tags">
                    ${(project.tags || ['Ëá™ÂÆö‰πâ']).map(tag => `<span class="tag">${tag}</span>`).join('')}
                </div>
            `;

            // ÁÇπÂáªÂç°ÁâáÊâìÂºÄÈ°πÁõÆ
            card.addEventListener('click', (e) => {
                if (e.target.classList.contains('delete-btn')) return;
                
                if (isUserProject) {
                    // Áî®Êà∑È°πÁõÆÔºö‰ªélocalStorageËØªÂèñHTMLÂπ∂Âú®Êñ∞Á™óÂè£ÊâìÂºÄ
                    const htmlContent = localStorage.getItem(`project_html_${project.id}`);
                    if (htmlContent) {
                        const blob = new Blob([htmlContent], { type: 'text/html' });
                        const url = URL.createObjectURL(blob);
                        window.open(url, '_blank');
                    }
                } else {
                    // ÂÜÖÁΩÆÈ°πÁõÆÔºöÁõ¥Êé•Ë∑≥ËΩ¨
                    window.location.href = project.file;
                }
            });

            // Âà†Èô§ÊåâÈíÆ
            if (isUserProject) {
                card.querySelector('.delete-btn').addEventListener('click', async (e) => {
                    e.stopPropagation();
                    const confirmed = await Dialog.confirm({
                        icon: 'üóëÔ∏è',
                        title: 'Âà†Èô§È°πÁõÆ',
                        message: `Á°ÆÂÆöË¶ÅÂà†Èô§„Äå${project.title}„ÄçÂêóÔºüÊ≠§Êìç‰ΩúÊó†Ê≥ïÊí§ÈîÄ„ÄÇ`,
                        confirmText: 'Âà†Èô§',
                        cancelText: 'ÂèñÊ∂à'
                    });
                    if (confirmed) {
                        deleteUserProject(project.id);
                        Dialog.toast('È°πÁõÆÂ∑≤Âà†Èô§', 'success');
                    }
                });
            }

            return card;
        }

        // ========== Ê®°ÊÄÅÊ°ÜÈÄªËæë ==========
        const modal = document.getElementById('addModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveBtn = document.getElementById('saveBtn');
        const htmlFile = document.getElementById('htmlFile');
        const htmlCode = document.getElementById('htmlCode');
        const fileLabel = document.querySelector('.file-input-label');

        closeModal.addEventListener('click', () => modal.classList.remove('show'));
        cancelBtn.addEventListener('click', () => modal.classList.remove('show'));
        modal.addEventListener('click', (e) => {
            if (e.target === modal) modal.classList.remove('show');
        });

        // Êñá‰ª∂ÈÄâÊã©
        htmlFile.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                fileLabel.textContent = `‚úÖ Â∑≤ÈÄâÊã©: ${file.name}`;
                const reader = new FileReader();
                reader.onload = (e) => {
                    htmlCode.value = e.target.result;
                };
                reader.readAsText(file);
            }
        });

        // ÊãñÊãΩ‰∏ä‰º†
        fileLabel.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileLabel.style.borderColor = '#00d4ff';
        });

        fileLabel.addEventListener('dragleave', () => {
            fileLabel.style.borderColor = '';
        });

        fileLabel.addEventListener('drop', (e) => {
            e.preventDefault();
            fileLabel.style.borderColor = '';
            const file = e.dataTransfer.files[0];
            if (file && (file.name.endsWith('.html') || file.name.endsWith('.htm'))) {
                fileLabel.textContent = `‚úÖ Â∑≤ÈÄâÊã©: ${file.name}`;
                const reader = new FileReader();
                reader.onload = (e) => {
                    htmlCode.value = e.target.result;
                };
                reader.readAsText(file);
            }
        });

        // ‰øùÂ≠òÈ°πÁõÆ
        saveBtn.addEventListener('click', async () => {
            const title = document.getElementById('projectTitle').value.trim();
            const desc = document.getElementById('projectDesc').value.trim();
            const icon = document.getElementById('projectIcon').value.trim() || 'üìÑ';
            const code = htmlCode.value.trim();

            if (!title) {
                await Dialog.alert({
                    icon: '‚ö†Ô∏è',
                    title: 'Áº∫Â∞ë‰ø°ÊÅØ',
                    message: 'ËØ∑ËæìÂÖ•È°πÁõÆÂêçÁß∞'
                });
                return;
            }
            if (!code) {
                await Dialog.alert({
                    icon: '‚ö†Ô∏è',
                    title: 'Áº∫Â∞ëÂÜÖÂÆπ',
                    message: 'ËØ∑ÂØºÂÖ•HTMLÊñá‰ª∂ÊàñÁ≤òË¥¥HTML‰ª£Á†Å'
                });
                return;
            }

            // È™åËØÅHTML‰ª£Á†Å
            if (!code.includes('<html') && !code.includes('<body') && !code.includes('<div')) {
                const confirmed = await Dialog.confirm({
                    icon: 'ü§î',
                    title: 'HTMLÊ†ºÂºèÊ£ÄÊü•',
                    message: '‰ª£Á†Å‰ºº‰πé‰∏çÊòØÂÆåÊï¥ÁöÑHTMLÔºåÁ°ÆÂÆöË¶ÅÁªßÁª≠‰øùÂ≠òÂêóÔºü',
                    confirmText: 'ÁªßÁª≠‰øùÂ≠ò',
                    cancelText: 'ËøîÂõû‰øÆÊîπ'
                });
                if (!confirmed) return;
            }

            const project = {
                title,
                desc: desc || 'Áî®Êà∑Ëá™ÂÆö‰πâÈ°πÁõÆ',
                icon,
                color: '#ffd700',
                tags: ['Ëá™ÂÆö‰πâ']
            };

            addUserProject(project);
            
            // Â≠òÂÇ®HTMLÂÜÖÂÆπ
            const projects = getUserProjects();
            const newProject = projects[projects.length - 1];
            localStorage.setItem(`project_html_${newProject.id}`, code);

            // ÈáçÁΩÆË°®Âçï
            document.getElementById('projectTitle').value = '';
            document.getElementById('projectDesc').value = '';
            document.getElementById('projectIcon').value = '';
            htmlCode.value = '';
            fileLabel.textContent = 'üìÅ ÁÇπÂáªÈÄâÊã©HTMLÊñá‰ª∂ÊàñÊãñÊãΩÂà∞Ê≠§Â§Ñ';
            
            modal.classList.remove('show');
            
            await Dialog.alert({
                icon: 'üéâ',
                title: 'Ê∑ªÂä†ÊàêÂäü',
                message: `È°πÁõÆ„Äå${title}„ÄçÂ∑≤ÊàêÂäüÊ∑ªÂä†ÔºÅ`
            });
        });

        // ÂàùÂßãÂåñ
        renderProjects();
    </script>
</body>
</html>