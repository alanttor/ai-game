import{B as C,d as D,r as h,h as x,i as N,x as M,j as d,l as t,n as u,k as b,w as r,v as g,t as o,H as p,g as T,o as c}from"./vue-vendor-CeuWReVY.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const i={mouseSensitivity:50,invertMouseY:!1,masterVolume:80,musicVolume:70,sfxVolume:90,ambientVolume:60,targetFPS:60,shadowQuality:"medium",drawDistance:"medium",showCrosshair:!0,showDamageNumbers:!0,screenShake:!0},w="zww_settings",P=C("settings",{state:()=>({settings:{...i}}),getters:{mouseSensitivityMultiplier:n=>n.settings.mouseSensitivity/50,masterVolumeDecimal:n=>n.settings.masterVolume/100,musicVolumeDecimal:n=>n.settings.musicVolume/100,sfxVolumeDecimal:n=>n.settings.sfxVolume/100,ambientVolumeDecimal:n=>n.settings.ambientVolume/100},actions:{initSettings(){const n=localStorage.getItem(w);if(n)try{const m=JSON.parse(n);this.settings={...i,...m}}catch{this.settings={...i}}},saveSettings(){localStorage.setItem(w,JSON.stringify(this.settings))},updateSetting(n,m){this.settings[n]=m,this.saveSettings()},updateSettings(n){this.settings={...this.settings,...n},this.saveSettings()},resetToDefaults(){this.settings={...i},this.saveSettings()},resetControlsToDefaults(){this.settings.mouseSensitivity=i.mouseSensitivity,this.settings.invertMouseY=i.invertMouseY,this.saveSettings()},resetAudioToDefaults(){this.settings.masterVolume=i.masterVolume,this.settings.musicVolume=i.musicVolume,this.settings.sfxVolume=i.sfxVolume,this.settings.ambientVolume=i.ambientVolume,this.saveSettings()},resetGraphicsToDefaults(){this.settings.targetFPS=i.targetFPS,this.settings.shadowQuality=i.shadowQuality,this.settings.drawDistance=i.drawDistance,this.saveSettings()}}}),Y={class:"settings-view"},U={class:"settings-container"},$={class:"tab-nav"},Q={class:"settings-content"},B={key:0,class:"tab-content"},E={class:"setting-item"},I={class:"slider-container"},J={class:"slider-value"},O={class:"setting-item"},A={class:"toggle-container"},G={key:1,class:"tab-content"},z={class:"setting-item"},j={class:"slider-container"},H={class:"slider-value"},K={class:"setting-item"},L={class:"slider-container"},R={class:"slider-value"},q={class:"setting-item"},W={class:"slider-container"},X={class:"slider-value"},Z={class:"setting-item"},tt={class:"slider-container"},et={class:"slider-value"},st={key:2,class:"tab-content"},it={class:"setting-item"},lt={class:"select-container"},nt={class:"setting-item"},at={class:"select-container"},ot={class:"setting-item"},ut={class:"select-container"},rt={key:3,class:"tab-content"},vt={class:"setting-item"},mt={class:"toggle-container"},dt={class:"setting-item"},gt={class:"toggle-container"},ct={class:"setting-item"},bt={class:"toggle-container"},pt={class:"action-buttons"},St=["disabled"],Vt=D({__name:"SettingsView",setup(n){const m=T(),v=P(),a=h("controls"),s=h({...v.settings}),S=x(()=>JSON.stringify(s.value)!==JSON.stringify(v.settings));N(()=>{v.initSettings(),s.value={...v.settings}}),M(()=>v.settings,V=>{s.value={...V}},{deep:!0});function y(){v.updateSettings(s.value)}function f(){switch(a.value){case"controls":s.value.mouseSensitivity=i.mouseSensitivity,s.value.invertMouseY=i.invertMouseY;break;case"audio":s.value.masterVolume=i.masterVolume,s.value.musicVolume=i.musicVolume,s.value.sfxVolume=i.sfxVolume,s.value.ambientVolume=i.ambientVolume;break;case"graphics":s.value.targetFPS=i.targetFPS,s.value.shadowQuality=i.shadowQuality,s.value.drawDistance=i.drawDistance;break;case"gameplay":s.value.showCrosshair=i.showCrosshair,s.value.showDamageNumbers=i.showDamageNumbers,s.value.screenShake=i.screenShake;break}}function k(){s.value={...i}}function _(){S.value&&v.updateSettings(s.value),m.push("/")}return(V,e)=>(c(),d("div",Y,[t("div",U,[e[31]||(e[31]=t("h1",{class:"settings-title"},"游戏设置",-1)),t("div",$,[t("button",{class:u(["tab-btn",{active:a.value==="controls"}]),onClick:e[0]||(e[0]=l=>a.value="controls")},"控制",2),t("button",{class:u(["tab-btn",{active:a.value==="audio"}]),onClick:e[1]||(e[1]=l=>a.value="audio")},"音频",2),t("button",{class:u(["tab-btn",{active:a.value==="graphics"}]),onClick:e[2]||(e[2]=l=>a.value="graphics")},"画面",2),t("button",{class:u(["tab-btn",{active:a.value==="gameplay"}]),onClick:e[3]||(e[3]=l=>a.value="gameplay")},"游戏",2)]),t("div",Q,[a.value==="controls"?(c(),d("div",B,[t("div",E,[e[16]||(e[16]=t("label",null,"鼠标灵敏度",-1)),t("div",I,[r(t("input",{type:"range","onUpdate:modelValue":e[4]||(e[4]=l=>s.value.mouseSensitivity=l),min:"1",max:"100",class:"slider"},null,512),[[g,s.value.mouseSensitivity,void 0,{number:!0}]]),t("span",J,o(s.value.mouseSensitivity),1)])]),t("div",O,[e[17]||(e[17]=t("label",null,"反转垂直视角",-1)),t("div",A,[t("button",{class:u(["toggle-btn",{active:s.value.invertMouseY}]),onClick:e[5]||(e[5]=l=>s.value.invertMouseY=!s.value.invertMouseY)},o(s.value.invertMouseY?"开启":"关闭"),3)])])])):b("",!0),a.value==="audio"?(c(),d("div",G,[t("div",z,[e[18]||(e[18]=t("label",null,"主音量",-1)),t("div",j,[r(t("input",{type:"range","onUpdate:modelValue":e[6]||(e[6]=l=>s.value.masterVolume=l),min:"0",max:"100",class:"slider"},null,512),[[g,s.value.masterVolume,void 0,{number:!0}]]),t("span",H,o(s.value.masterVolume)+"%",1)])]),t("div",K,[e[19]||(e[19]=t("label",null,"音乐音量",-1)),t("div",L,[r(t("input",{type:"range","onUpdate:modelValue":e[7]||(e[7]=l=>s.value.musicVolume=l),min:"0",max:"100",class:"slider"},null,512),[[g,s.value.musicVolume,void 0,{number:!0}]]),t("span",R,o(s.value.musicVolume)+"%",1)])]),t("div",q,[e[20]||(e[20]=t("label",null,"音效音量",-1)),t("div",W,[r(t("input",{type:"range","onUpdate:modelValue":e[8]||(e[8]=l=>s.value.sfxVolume=l),min:"0",max:"100",class:"slider"},null,512),[[g,s.value.sfxVolume,void 0,{number:!0}]]),t("span",X,o(s.value.sfxVolume)+"%",1)])]),t("div",Z,[e[21]||(e[21]=t("label",null,"环境音量",-1)),t("div",tt,[r(t("input",{type:"range","onUpdate:modelValue":e[9]||(e[9]=l=>s.value.ambientVolume=l),min:"0",max:"100",class:"slider"},null,512),[[g,s.value.ambientVolume,void 0,{number:!0}]]),t("span",et,o(s.value.ambientVolume)+"%",1)])])])):b("",!0),a.value==="graphics"?(c(),d("div",st,[t("div",it,[e[23]||(e[23]=t("label",null,"目标帧率",-1)),t("div",lt,[r(t("select",{"onUpdate:modelValue":e[10]||(e[10]=l=>s.value.targetFPS=l),class:"select-input"},[...e[22]||(e[22]=[t("option",{value:30},"30 FPS",-1),t("option",{value:60},"60 FPS",-1),t("option",{value:120},"120 FPS",-1)])],512),[[p,s.value.targetFPS,void 0,{number:!0}]])])]),t("div",nt,[e[25]||(e[25]=t("label",null,"阴影质量",-1)),t("div",at,[r(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>s.value.shadowQuality=l),class:"select-input"},[...e[24]||(e[24]=[t("option",{value:"low"},"低",-1),t("option",{value:"medium"},"中",-1),t("option",{value:"high"},"高",-1)])],512),[[p,s.value.shadowQuality]])])]),t("div",ot,[e[27]||(e[27]=t("label",null,"视距",-1)),t("div",ut,[r(t("select",{"onUpdate:modelValue":e[12]||(e[12]=l=>s.value.drawDistance=l),class:"select-input"},[...e[26]||(e[26]=[t("option",{value:"low"},"近",-1),t("option",{value:"medium"},"中",-1),t("option",{value:"high"},"远",-1)])],512),[[p,s.value.drawDistance]])])])])):b("",!0),a.value==="gameplay"?(c(),d("div",rt,[t("div",vt,[e[28]||(e[28]=t("label",null,"显示准星",-1)),t("div",mt,[t("button",{class:u(["toggle-btn",{active:s.value.showCrosshair}]),onClick:e[13]||(e[13]=l=>s.value.showCrosshair=!s.value.showCrosshair)},o(s.value.showCrosshair?"开启":"关闭"),3)])]),t("div",dt,[e[29]||(e[29]=t("label",null,"显示伤害数字",-1)),t("div",gt,[t("button",{class:u(["toggle-btn",{active:s.value.showDamageNumbers}]),onClick:e[14]||(e[14]=l=>s.value.showDamageNumbers=!s.value.showDamageNumbers)},o(s.value.showDamageNumbers?"开启":"关闭"),3)])]),t("div",ct,[e[30]||(e[30]=t("label",null,"屏幕震动",-1)),t("div",bt,[t("button",{class:u(["toggle-btn",{active:s.value.screenShake}]),onClick:e[15]||(e[15]=l=>s.value.screenShake=!s.value.screenShake)},o(s.value.screenShake?"开启":"关闭"),3)])])])):b("",!0)]),t("div",pt,[t("button",{class:"action-btn reset",onClick:f},"重置当前页"),t("button",{class:"action-btn reset-all",onClick:k},"重置全部"),t("button",{class:"action-btn save",onClick:y,disabled:!S.value},"保存设置",8,St),t("button",{class:"action-btn back",onClick:_},"返回")])])]))}}),yt=F(Vt,[["__scopeId","data-v-a51eff64"]]);export{yt as default};
//# sourceMappingURL=SettingsView-B2Zwzu77.js.map
